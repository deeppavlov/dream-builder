{
    "dataset_reader": {
      "class_name": "md_yaml_dialogs_reader",
      "data_path": "{DATA_PATH}",
      "fmt": "yml"
    },
    "dataset_iterator": {
      "class_name": "md_yaml_dialogs_iterator"
    },
    "chainer": {
      "in": ["x"],
      "in_y": ["y"],
      "out": ["y_predicted"],
      "pipe": [
        {
            "class_name": "trippy",
            "in": ["x"],
            "in_y": ["y"],
            "out": ["y_predicted"],
            "load_path": "{MODEL_PATH}/model",
            "save_path": "{MODEL_PATH}/model",
            "pretrained_bert": "bert-base-uncased",
            "max_seq_length": 180,
            "debug": false,
            "database": null,
            "nlg_manager": {
                "class_name": "gobot_json_nlg_manager",
                "data_path": "{DATA_PATH}",
                "dataset_reader_class": "md_yaml_dialogs_reader",
                "actions2slots_path": "{DATA_PATH}/dstc2-actions2slots.json",
                "api_call_action": null
            },
            "api_call_action": null,
            "optimizer_parameters": {"lr": 1e-5, "eps": 1e-6}
        }
      ]
    },
    "train": {
        "batch_size": 32,
        "max_batches": 600,
        "epochs": 1,
    
        "metrics": ["per_item_dialog_accuracy"],
        "validation_patience": 10,
        "val_every_n_batches": 15,
        "val_every_n_epochs": -1,
    
        "log_every_n_batches": 15,
        "log_on_k_batches": 10,
    
        "validate_first": true,
    
        "show_examples": false,
        "evaluation_targets": [
          "valid",
          "test"
        ]
      },
    "metadata": {
      "variables": {
        "ROOT_PATH": "~/.deeppavlov",
        "CONFIGS_PATH": "{DEEPPAVLOV_PATH}/configs",
        "DOWNLOADS_PATH": "{ROOT_PATH}/downloads",
        "DATA_PATH": "/input",
        "MODELS_PATH": "{ROOT_PATH}/models",
        "MODEL_PATH": "."
      }
    }
  }
